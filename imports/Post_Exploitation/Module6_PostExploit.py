import paramiko

def ssh_get_arp_and_routing_table(host, username, password):
    try:

        ssh = paramiko.SSHClient()
        ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
        

        ssh.connect(hostname=host, username=username, password=password)


        arp_command = "arp -a"


        stdin, stdout, stderr = ssh.exec_command(arp_command)
        

        arp_output = stdout.read().decode()


        print("Table ARP de la machine distante:")
        print(arp_output)


        routing_command = "ip route show" 
        

        stdin, stdout, stderr = ssh.exec_command(routing_command)
        

        routing_output = stdout.read().decode()


        print("\nTable de routage de la machine distante:")
        print(routing_output)

        ssh.close()
    except Exception as e:
        print("Erreur lors de la connexion ou de l'ex√©cution des commandes:", str(e))

